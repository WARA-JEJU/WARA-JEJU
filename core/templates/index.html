<!DOCTYPE HTML>
<html>
	<head>
		{% load static %}
		<title>WARA-JEJU</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="{% static "css/main.css" %}" />
		<style>
			a.disabled {
			  pointer-events: none;
			  cursor: default;
			  background-color: grey !important;
			}
		</style>
	</head>
	<body class="homepage is-preload">

		<form id="routeRecommendation" method="get">
			<div id="page-wrapper">
				<!-- Header -->
				<section id="header">
					<div class="container">
						<!-- Logo -->
						<h1 id="logo"><a href="index.html">WARA-JEJU</a></h1>
						<p>바쁜 사람들을 위해 선택한 일정 최적의 경로 추천 시스템</p>
						<br>
						<br>
							<div class="row gtr-50">
								<div class="col-6 col-12-small">
									<input name="name" placeholder="제주 스타벅스" type="text" value="{{ request.GET.name }}"/>
								</div>
	<!--							<div class="col-6 col-12-small">-->
	<!--								<select>-->
	<!--									<option value="{{ request.select }}">음식점</option>-->
	<!--									<option value="{{ request.select }}">카페</option>-->
	<!--									<option value="{{ request.select }}">숙박</option>-->
	<!--									<option value="{{ request.select }}">액티비티</option>-->
	<!--								</select>-->
	<!--							</div>-->
								<div class="col-12">
									<button class="form-button-submit button icon solid fa-envelope">검색하기</button>
								</div>
							</div>
						<!-- Nav -->
						<nav id="nav">
							<ul>
								<li><a class="icon solid fa-home" href="profile/"><span>일정 계획</span></a></li>
								<li><a class="icon solid fa-home" href="schedule_list/"><span>스케줄</span></a></li>
								<li><a class="icon solid fa-home" href="route_recommend/"><span>경로 추천(완료)</span></a></li>
							</ul>
						</nav>
					</div>
				</section>
				<!-- Main -->
				<section id="main">
					<div class="container">
						<div class="row">
							<div id="sidebar" class="col-4 col-12-medium">
								<!-- Highlights -->
								{% if cosine_pois %}
									{% for cosine_poi in cosine_pois%}
									<section>
										<ul class="divided">
											<li>
												<!-- Highlight -->
												<article class="box highlight">
													<header>
														<h3><a href="#">{{cosine_poi.상호명}}</a></h3>
													</header>
													<section>
														<a href="#" class="image left"><img src="{{cosine_poi.thumbnail}}" alt="" /></a>
														<div>
															<p style="margin-bottom: 1em;"><strong>평점 : </strong><em>{{cosine_poi.kakao_grade}}점</em></p>
															<p style="margin-bottom: 1em;"><strong>리뷰 : </strong><em>{{cosine_poi.kakao_review}}건수</em></p>
															<p style="margin-bottom: 1em;"><strong>도로명 : </strong><em>{{cosine_poi.road_address_name}}</em></p>
															<p style="margin-bottom: 1em;"><strong>지번 : </strong><em>{{cosine_poi.address_name}}</em></p>
														</div>
													</section>
													<div>
														<a href="{{cosine_poi.place_url}}" target='_blank' class="button icon solid fa-file" style="width: 47%;display: inline-block;margin-right: 5%;">카카오맵</a>
														<a href="javascript:setCoordinate({{cosine_poi.x}}, {{cosine_poi.y}}, '{{cosine_poi.상호명}}');" onclick="$(this).addClass('disabled');" class="button icon solid fa-file"  style="width: 47%;display: inline-block;">일정추가</a>
													</div>
												</article>
											</li>
										</ul>
									</section>
								{% endfor %}
									<section>
										<button class="form-button-submit button icon solid fa-envelope">경로추천</button>
									</section>
								{% else %}
									<p>I have no plans to use it.</p>
								{% endif %}
							</div>
						</div>
					</div>
				</section>
			</div>
			<input type="hidden" id="count" name="count" value="0">
		<!-- Scripts -->
		<script src="{% static "js/jquery.min.js" %}"></script>
		<script src="{% static "js/jquery.dropotron.min.js" %}"></script>
		<script src="{% static "js/browser.min.js" %}"></script>
		<script src="{% static "js/breakpoints.min.js" %}"></script>
		<script src="{% static "js/util.js" %}"></script>
		<script src="{% static "js/main.js" %}"></script>
		<script>
			function setCoordinate(x, y, 상호명){
				if(x != '' && y != '' && 상호명 != ''){
					var html = "";
					html += '<a class="link depth-0" href="javascript:;" onclick="$(this).remove();';
					html += '$(\'#';
					html += $("#routeRecommendation").find("input[type='hidden']").length - 1;
					html += "')";
					html += '.remove();" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><span class="indent-0"></span> - ';
					html += 상호명;
					html += '</a>';
					$("nav").append(html);

					html = "";
					html += "<input type='hidden' value='";
					html += x;
					html += ", ";
					html += y;
					html += ", ";
					html += 상호명;
					html += "'";
					html += "name='";
					html += $("#routeRecommendation").find("input[type='hidden']").length - 1;
					html += "'";
					html += "id='";
					html += $("#routeRecommendation").find("input[type='hidden']").length - 1;
					html += "'";
					html += "'>";
					$("#routeRecommendation").append(html);

					$(this).attr('disabled', true);
					$("#count").val($("#routeRecommendation").find("input[type='hidden']").length - 1);
				}
			}
		</script>
	</body>
</html>